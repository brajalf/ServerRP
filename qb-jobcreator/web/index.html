<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Creador de Trabajos</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="preconnect" href="https://cdnjs.cloudflare.com">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="crafting.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div id="app" class="app hidden">
    <div class="backdrop"></div>
    <div class="window">
      <header class="topbar">
        <div class="brand">
          <img id="brand-logo" src="logo.png" alt="logo"/>
          <span id="brand-title">LatinLife RP</span>
        </div>
        <div class="drag-hint">ESC para cerrar</div>
      </header>
      <div class="wrap">
        <aside class="sidebar">
          <nav>
            <button data-view="home" class="active">Inicio</button>
            <button data-view="jobs">Trabajos</button>
            <button data-view="employees">Empleados</button>
            <button data-view="stats">Estadísticas</button>
            <button data-view="config">Config</button>
            <button data-view="crafting">Crafteo</button>
          </nav>
        </aside>
        <main class="content">
          <section id="view-home" class="view">
            <div class="cards">
              <div class="card"><div class="h">Trabajos totales</div><div id="metric-jobs" class="b">0</div></div>
              <div class="card"><div class="h">Empleados</div><div id="metric-employees" class="b">0</div></div>
              <div class="card"><div class="h">Dinero total</div><div id="metric-money" class="b">$0</div></div>
              <div class="card"><div class="h">Más empleados</div><div id="metric-top" class="b">-</div></div>
            </div>
            <div class="panel">
              <div class="panel-h">Empleados Generales</div>
              <canvas id="employeesChart" height="140"></canvas>
            </div>
          </section>

          <section id="view-jobs" class="view hidden">
            <div class="toolbar">
              <button class="btn primary" id="btn-addjob">+ Agregar Trabajo</button>
              <button class="btn" id="btn-export">Exportar</button>
              <button class="btn" id="btn-import">Importar</button>
            </div>
            <table class="table" id="jobsTable">
              <thead><tr><th>Nombre</th><th>Etiqueta</th><th>Tipo</th><th>Whitelist</th><th>Rangos</th><th>Acciones</th></tr></thead>
              <tbody></tbody>
            </table>
          </section>

          <section id="view-employees" class="view hidden">
            <div class="toolbar">
              <select id="employeesJob"></select>
              <input type="text" id="searchEmp" placeholder="Buscar empleados..." />
            </div>
            <div class="cards small" id="emp-summary"></div>
            <table class="table" id="empTable">
              <thead><tr><th>Nombre</th><th>Rango</th><th>Estado</th><th>Acciones</th></tr></thead>
              <tbody></tbody>
            </table>
            <div class="toolbar">
              <button class="btn" id="btn-recruit">Reclutar cercano</button>
            </div>
          </section>

          <section id="view-stats" class="view hidden">
            <div class="panel"><div class="panel-h">Cuentas de Sociedad</div><div id="accounts"></div></div>
          </section>

          <section id="view-config" class="view hidden">
            <div class="panel"><div class="panel-h">Opciones</div>
              <p>Traducciones, integración y exportación JSON.</p>
              <p>Logo actual: <code>web/logo.png</code></p>
            </div>
          </section>

          <section id="view-crafting" class="view hidden">
            <div class="panel">
              <div class="panel-h">Recetas</div>
              <table class="table" id="recTable">
                <thead><tr><th>Nombre</th><th>Inputs</th><th>Tiempo</th><th>Output</th></tr></thead>
                <tbody></tbody>
              </table>
            </div>
          </section>

          <!-- ======= PANEL DETALLE DE TRABAJO ======= -->
          <section id="view-jobdetail" class="view hidden">
            <div class="panel">
              <div class="panel-h"><span id="jd-title">Trabajo</span></div>
              <div class="toolbar">
                <button class="btn" id="jd-tab-employees">Empleados</button>
                <button class="btn" id="jd-tab-finance">Finanzas</button>
                <button class="btn" id="jd-tab-zones">Zonas</button>
                <button class="btn" id="jd-tab-actions">Acciones</button>
              </div>
              <div id="jd-body"></div>
            </div>
          </section>
        </main>
      </div>
    </div>
  </div>

  <div id="modal" class="modal hidden">
    <div class="modal-body">
      <div class="modal-h" id="modal-title">Título</div>
      <div id="modal-content"></div>
      <div class="modal-actions">
        <button class="btn" id="modal-cancel">Cancelar</button>
        <button class="btn primary" id="modal-submit">Guardar</button>
      </div>
    </div>
  </div>
  <div id="craftApp" class="craft-app hidden">
    <div class="header">
      <div class="title">
        <i class="fa-solid fa-utensils"></i>
        <span id="craftTitleText">KITCHEN</span>
        <span id="craftCategoryTag" class="tag">FOOD</span>
      </div>
      <div class="search">
        <input id="craftSearchInput" type="text" placeholder="Search..." />
        <i class="fa-solid fa-magnifying-glass"></i>
      </div>
    </div>

    <div class="statusBar">
      <div id="craftCraftingBar" class="progress"><div id="craftProgressInner"></div></div>
      <div id="craftTimeLeft" class="time">Time left: --</div>
    </div>

    <div class="grid" id="craftGrid"></div>

    <aside class="sidebar">
      <div class="panel">
        <div class="panel-title" id="craftPendingTitle">PENDING ITEMS</div>
        <div id="craftPendingList" class="panel-body empty">You have no items in the crafting queue</div>
      </div>

      <div class="panel">
        <div class="panel-title" id="craftCollectTitle">ITEMS TO COLLECT</div>
        <div id="craftCollectList" class="panel-body empty">You have no items to collect</div>
      </div>

      <div class="panel">
        <button id="craftBtnLeaveAll" class="btn danger">LEAVE ALL QUEUES</button>
      </div>
    </aside>

    <div id="craftModal" class="craft-modal hidden">
      <div class="modal-inner">
        <div class="modal-header">
          <div id="craftModalTitle">RECIPE FOR</div>
          <button id="craftModalClose" class="xbtn">✕</button>
        </div>
        <div class="modal-body">
          <div id="craftModalMats" class="mats"></div>
          <div class="receiveTitle">YOU WILL RECEIVE:</div>
          <div id="craftModalOuts" class="outs"></div>
          <div class="qty">
            <button class="small" id="craftDec">-</button>
            <input id="craftQty" type="number" value="1" min="1" />
            <button class="small" id="craftInc">+</button>
          </div>
        </div>
        <div class="modal-footer">
          <button id="craftBtnCraft" class="btn primary">CRAFT</button>
        </div>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
  <script src="crafting.js"></script>
</body>
</html>
<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Creador de Trabajos</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div id="app" class="app hidden">
    <div class="backdrop"></div>
    <div class="window">
      <header class="topbar">
        <div class="brand">
          <img id="brand-logo" src="logo.png" alt="logo"/>
          <span id="brand-title">LatinLife RP</span>
        </div>
        <div class="drag-hint">ESC para cerrar</div>
      </header>
      <div class="wrap">
        <aside class="sidebar">
          <nav>
            <button data-view="home" class="active">Inicio</button>
            <button data-view="jobs">Trabajos</button>
            <button data-view="employees">Empleados</button>
            <button data-view="stats">Estadísticas</button>
            <button data-view="config">Config</button>
            <button data-view="crafting">Crafteo</button>
          </nav>
        </aside>
        <main class="content">
          <section id="view-home" class="view">
            <div class="cards">
              <div class="card"><div class="h">Trabajos totales</div><div id="metric-jobs" class="b">0</div></div>
              <div class="card"><div class="h">Empleados</div><div id="metric-employees" class="b">0</div></div>
              <div class="card"><div class="h">Dinero total</div><div id="metric-money" class="b">$0</div></div>
              <div class="card"><div class="h">Más empleados</div><div id="metric-top" class="b">-</div></div>
            </div>
            <div class="panel">
              <div class="panel-h">Empleados Generales</div>
              <canvas id="employeesChart" height="140"></canvas>
            </div>
          </section>

          <section id="view-jobs" class="view hidden">
            <div class="toolbar">
              <button class="btn primary" id="btn-addjob">+ Agregar Trabajo</button>
              <button class="btn" id="btn-export">Exportar</button>
              <button class="btn" id="btn-import">Importar</button>
            </div>
            <table class="table" id="jobsTable">
              <thead><tr><th>Nombre</th><th>Etiqueta</th><th>Tipo</th><th>Whitelist</th><th>Rangos</th><th>Acciones</th></tr></thead>
              <tbody></tbody>
            </table>
          </section>

          <section id="view-employees" class="view hidden">
            <div class="toolbar">
              <select id="employeesJob"></select>
              <input type="text" id="searchEmp" placeholder="Buscar empleados..." />
            </div>
            <div class="cards small" id="emp-summary"></div>
            <table class="table" id="empTable">
              <thead><tr><th>Nombre</th><th>Rango</th><th>Estado</th><th>Acciones</th></tr></thead>
              <tbody></tbody>
            </table>
            <div class="toolbar">
              <button class="btn" id="btn-recruit">Reclutar cercano</button>
            </div>
          </section>

          <section id="view-stats" class="view hidden">
            <div class="panel"><div class="panel-h">Cuentas de Sociedad</div><div id="accounts"></div></div>
          </section>

          <section id="view-config" class="view hidden">
            <div class="panel"><div class="panel-h">Opciones</div>
              <p>Traducciones, integración y exportación JSON.</p>
              <p>Logo actual: <code>web/logo.png</code></p>
            </div>
          </section>

          <section id="view-crafting" class="view hidden">
            <div class="panel">
              <div class="panel-h">Recetas</div>
              <table class="table" id="recTable">
                <thead><tr><th>Nombre</th><th>Inputs</th><th>Tiempo</th><th>Output</th></tr></thead>
                <tbody></tbody>
              </table>
            </div>
          </section>

          <!-- ======= PANEL DETALLE DE TRABAJO ======= -->
          <section id="view-jobdetail" class="view hidden">
            <div class="panel">
              <div class="panel-h"><span id="jd-title">Trabajo</span></div>
              <div class="toolbar">
                <button class="btn" id="jd-tab-employees">Empleados</button>
                <button class="btn" id="jd-tab-finance">Finanzas</button>
                <button class="btn" id="jd-tab-zones">Zonas</button>
                <button class="btn" id="jd-tab-actions">Acciones</button>
              </div>
              <div id="jd-body"></div>
            </div>
          </section>
        </main>
      </div>
    </div>
  </div>

  <div id="modal" class="modal hidden">
    <div class="modal-body">
      <div class="modal-h" id="modal-title">Título</div>
      <div id="modal-content"></div>
      <div class="modal-actions">
        <button class="btn" id="modal-cancel">Cancelar</button>
        <button class="btn primary" id="modal-submit">Guardar</button>
      </div>
    </div>
  </div>

  <!-- Panel de Crafteo -->
  <div id="craft" class="craft hidden">
    <div class="craft-panel">
      <div id="craft-list"></div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>